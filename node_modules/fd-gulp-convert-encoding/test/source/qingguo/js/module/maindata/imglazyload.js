// Generated by CoffeeScript 1.6.2
/*
main data area image lazyload
@author dongming.jidm
@date 2012-12-27
*/


(function() {
  (function($) {
    var ImgLazyLoad, Sandbox, defConfig, self;

    defConfig = {
      lazyloadClass: "ul.offers",
      rootId: "#content"
    };
    self = null;
    Sandbox = null;
    ImgLazyLoad = function(sb) {
      Sandbox = sb;
      return ImgLazyLoad;
    };
    $.extend(ImgLazyLoad, {
      init: function() {
        self = this;
        self.doLazyLoad();
        Sandbox.on(Qingguo.Config.Events.imgLazyLoadInit, this.delayImgLazyLoad);
      },
      delayImgLazyLoad: function() {
//          console.log(111)
        setTimeout(self.doLazyLoad,500);
//		self.doLazyLoad();
      },
      doLazyLoad: function() {
        $.use('web-datalazyload', function() {
          FE.util.datalazyload.register({
            containers: $(defConfig.lazyloadClass, defConfig.rootId)
          });
        });
      }
    });
    Qingguo.Business.ImgLazyLoad = ImgLazyLoad;
    AppCore.register("qingguo_mod_imglazyload", Qingguo.Business.ImgLazyLoad);
  })(jQuery);

}).call(this);
