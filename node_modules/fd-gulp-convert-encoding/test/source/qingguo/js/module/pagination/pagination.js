/**
 *	@author:dongming.jidm
 *	@date:2012-12-14
 **/
 
 !(function($){
	var Sandbox,
		SU = Qingguo.Utility,
		configs = {
		},
		self;
	
	function Pagination(sb) {
		Sandbox = sb;
		return Pagination;
	}
	
	$.extend(Pagination,{
				
		init:function(cfg){
		
			self = this;
			this.config = $.extend(true, {}, configs, cfg);

			this.pageSelectInit();
		},
			
		/**
		 * ·­Ò³ÊäÈë¿ØÖÆ
		 * @method pageSelectInit
		 */
		pageSelectInit:function(){
			if($('#jumpto').length==0) return;
			var reg = /^[1-9]+\d*$/,tmp ="",maxPage=null;
			maxPage = $('#jumpto').attr('data-max');
			function fun() {
		        if (this.value) {
		            if (reg.test(this.value)) {
						if (maxPage && parseInt(this.value) > maxPage) {
							this.value = tmp;
						}
						tmp = this.value;
						
					}else {
						this.value = tmp;
					}
		        } else tmp = '';
		    }
			$("#jumpto").bind('keyup', fun);
			$("#jumpto").bind('blur', fun);
		},		
        end: 0
	});
	
	Qingguo.Business.Pagination = Pagination;
	AppCore.register("qingguo_mod_pagination", Qingguo.Business.Pagination);
	
})(jQuery);

