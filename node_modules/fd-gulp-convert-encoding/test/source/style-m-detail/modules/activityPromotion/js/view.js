define('detail.modules.activityPromotion.View', 
        ['jQuery', 'Class', 'lofty.ui.Timer'], 
function($, Class, Timer) {


return Class({
    
    init: function(view, config) {
        this.onEvent = $.os.supportsTouch ? 'tap' : 'click';
        this.div = view;
        this.config = config;
        
        this._initTime();
    },

    _initTime: function(){

        if (!this.config.countdown){
            return;
        }

        // mock
        // this.config.countdown = 5000;

        var timer = new Timer({
            to: new Date(new Date().getTime() + this.config.countdown * 1),
            el: '#d-activity-promotion-timer'
        });

        timer.on('stop', function(){
            location.reload();
        });
    }

});


});
